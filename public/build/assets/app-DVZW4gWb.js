import{a as Ce,m as le}from"./vendor-ui-D_k1tNtl.js";import{T as ce,c as xe,t as de,f as ue,R as Me,H as I,x as Pe,j as $e,A as fe,S as Re,d as qe,a as Be,b as De,g as Fe,G as Ne,r as pe,p as me,F as He,e as he,Q as ge,h as Oe,C as Ue,i as je,k as ze,l as We,m as Ge,n as Ve,o as Xe,q as Ke,s as Qe}from"./vendor-core-CFiow4nG.js";window.axios=Ce;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";window.Alpine=le;le.start();class Je{constructor(){this.#t(),window.addEventListener("resize",this.#o.bind(this),{passive:!0})}height=0;width=0;name="";isXs=!1;isSm=!1;isMd=!1;isLg=!1;isXl=!1;is2xl=!1;smAndDown=!1;smAndUp=!1;mdAndDown=!1;mdAndUp=!1;lgAndDown=!1;lgAndUp=!1;xlAndDown=!1;xlAndUp=!1;sm=640;md=768;lg=1024;xl=1280;the2xl=1536;#e=!0;#t(){const o=window.innerHeight,t=window.innerWidth,n=this.name,i=t<this.sm,s=t<this.md&&!i,r=t<this.lg&&!(s||i),a=t<this.xl&&!(r||s||i),d=t<this.the2xl&&!(a||r||s||i),c=t>=this.the2xl;this.height=o,this.width=t,this.isXs=i,this.isSm=s,this.isMd=r,this.isLg=a,this.isXl=d,this.is2xl=c,this.smAndDown=(i||s)&&!(r||a||d||c),this.smAndUp=!i&&(s||r||a||d||c),this.mdAndDown=(i||s||r)&&!(a||d||c),this.mdAndUp=!(i||s)&&(r||a||d||c),this.lgAndDown=(i||s||r||a)&&!(d||c),this.lgAndUp=!(i||s||r)&&(a||d||c),this.xlAndDown=(i||s||r||a||d)&&!c,this.xlAndUp=!(i||s||r||a)&&(d||c),i&&(this.name="xs"),s&&(this.name="sm"),r&&(this.name="md"),a&&(this.name="lg"),d&&(this.name="xl"),c&&(this.name="2xl"),document.documentElement.style.setProperty("--vh",`${o*.01}px`),!this.#e&&n!==this.name&&window.dispatchEvent(new CustomEvent("change:breakpoint",{detail:{height:o,width:this.width,name:this.name,isXs:this.isXs,isSm:this.isSm,isMd:this.isMd,isLg:this.isLg,isXl:this.isXl,is2xl:this.is2xl,smAndDown:this.smAndDown,smAndUp:this.smAndUp,mdAndDown:this.mdAndDown,mdAndUp:this.mdAndUp,lgAndDown:this.lgAndDown,lgAndUp:this.lgAndUp,xlAndDown:this.xlAndDown,xlAndUp:this.xlAndUp}})),this.#e=!1}#o(){clearTimeout(this.resizeTimeout),this.resizeTimeout=window.setTimeout(this.#t.bind(this),175)}}const v="dark-mode",W="dark",x="dark";class Ye{currentMode="";constructor(o=""){const t=localStorage.getItem(v)!==null?localStorage.getItem(v):o;localStorage.setItem(v,t),t===W?(document.documentElement.classList.add(x),this.currentMode="dark"):this.currentMode="light"}setDarkMode(){localStorage.setItem(v,W),document.documentElement.classList.add(x),this.currentMode="dark",window.dispatchEvent(new CustomEvent("change:darkmode",{detail:{currentMode:"dark"}}))}setLightMode(){localStorage.setItem(v,""),document.documentElement.classList.remove(x),this.currentMode="light",window.dispatchEvent(new CustomEvent("change:darkmode",{detail:{currentMode:"light"}}))}toggle(){this.currentMode==="light"?this.setDarkMode():this.setLightMode()}}const M="is-monochrome";class Ze{currentMode="";constructor(o=""){o==="monochrome"&&(document.body.classList.add(M),this.currentMode="monochrome")}setMonochrome(){document.body.classList.add(M),this.currentMode="monochrome",window.dispatchEvent(new CustomEvent("change:monochrome",{detail:{currentMode:"monochrome"}}))}removeMonochrome(){document.body.classList.remove(M),this.currentMode="",window.dispatchEvent(new CustomEvent("change:monochrome",{detail:{currentMode:""}}))}toggle(){this.currentMode==="monochrome"?this.removeMonochrome():this.setMonochrome()}}const et=e=>{let[o="right",t="bottom"]=e.position?e.position.split("-"):"",n=null;const i={duration:e.duration||5e3,gravity:t,position:o,text:e.text||"This is a message",newWindow:!0,close:e.hasCloseBtn||!1,backgroundColor:"",className:e.class||"",stopOnFocus:e.pauseOnHover||!0};e.link&&(i.destination=e.link),e.variant&&(i.className=`${i.className} ${e.variant}`),e.content&&(i.node=document.querySelector(e.content).content.firstElementChild.cloneNode(!0),i.className+=" html",i.close=!1);const s=ce(i);s.showToast(),e.content&&(n=s.toastElement.querySelector("[data-notification-remove]"),n&&n.addEventListener("click",()=>s.removeElement(s.toastElement)))};window.Toastify=ce;const tt=e=>{const o={content:e.content,onSuccess:e.success??function(){},onError:e.error??function(){}};e.content!==""&&(typeof e.content=="function"&&(e.content=e.content()),navigator.clipboard.writeText(o.content).then(function(){o.onSuccess()},function(t){o.onError(t)}))};function ot(e){const t=e.target.closest(".card").querySelector(".code-wrapper");e.target.checked?t.classList.remove("hidden"):t.classList.add("hidden")}function nt(){return window.innerWidth-document.documentElement.clientWidth}function we(){return[location.protocol,"//",location.host,location.pathname].join("")}function ye(e,o,t="animate:leave"){window.getComputedStyle(e).getPropertyValue("display")!=="none"&&(e.classList.add(t),e.addEventListener("animationend",()=>{o(),e.classList.remove(t)},{once:!0}))}const it=Object.freeze(Object.defineProperty({__proto__:null,getBrwoserScrollbarWidth:nt,getCurrentLocation:we,leaveAnimation:ye,toggleCode:ot},Symbol.toStringTag,{value:"Module"})),G="show",V="is-active";class T{isShowPopper=!1;constructor(o,t,n,i,s="click",r=()=>{}){if(typeof o=="string"?this.wrapperEl=document.querySelector(o):this.wrapperEl=o,this.ref=this.wrapperEl.querySelector(t),this.box=this.wrapperEl.querySelector(n),this.onToggle=r,this.wrapperEl._popper=this,this.instance=xe(this.ref,this.box,i),s==="hover"){this.wrapperEl.addEventListener("mouseenter",()=>this.showPopper()),this.wrapperEl.addEventListener("mouseleave",()=>this.closePopper());return}this.ref.addEventListener(s,()=>this.togglePopper()),document.addEventListener("click",a=>{this.wrapperEl.contains(a.target)||this.isShowPopper&&this.closePopper()},!1),window.addEventListener("change:breakpoint",()=>{this.isShowPopper&&this.closePopper()})}showPopper(){this.instance.update(),this.box.classList.add(G),this.ref.classList.add(V),this.isShowPopper=!0,this.onToggle(this.isShowPopper)}closePopper(){this.box.classList.remove(G),this.ref.classList.remove(V),this.isShowPopper=!1,this.onToggle(this.isShowPopper)}togglePopper(){this.isShowPopper?this.closePopper():this.showPopper()}}const A="is-active",st="tab",rt="tab-content";class E{aciveTab=null;constructor(o,t=()=>{}){if(o instanceof HTMLElement?this.wrapper=o:this.wrapper=document.querySelector(o),this.onChange=t,!this.wrapper)throw new TypeError("Error: Tab Wrapper not defined");if(this.tabs=this.wrapper.querySelectorAll(`.${st}`),this.tabContents=this.wrapper.querySelectorAll(`.${rt}`),this.tabs.length===0)throw new TypeError("Error: Tab items not defined");this.aciveTab=this.wrapper.dataset.activeTab||this.tabs[0].dataset.target,this.showTab(this.aciveTab),this.tabs.forEach(n=>{const i=n.dataset.target;n.addEventListener("click",()=>{i!=this.aciveTab&&this.showTab(i)})})}showTab(o){this.tabs.forEach(t=>{const n=t.dataset.activeClass,i=t.dataset.defaultClass;t.dataset.target==o?(i&&t.classList.remove(...i.trim().split(" ")),n&&t.classList.add(...n.trim().split(" "),A)):(i&&t.classList.add(...i.trim().split(" ")),n&&t.classList.remove(...n.trim().split(" "),A))}),this.tabContents&&this.tabContents.forEach(t=>{`#${t.id}`==o?t.classList.add(A):t.classList.remove(A)}),this.aciveTab=o,this.onChange(o)}}const at="modal-overlay",lt="modal-content",X="show",ct={onOpen:()=>{},onClose:()=>{}};let dt=class{isActive=!1;scrollbarWidth=helpers.getBrwoserScrollbarWidth();_html=document.documentElement;constructor(o,t){if(!o)throw new TypeError("Error: Modal not defined");if(t={...ct,...t},this.modalId=o,this.modal=document.querySelector(o),this.overlay=this.modal.querySelector(`.${at}`),this.content=this.modal.querySelector(`.${lt}`),this.onOpen=t.onOpen,this.onClose=t.onClose,!this.content)return;const n=document.querySelectorAll(`[data-toggle="modal"][data-target="${o}"]`),i=this.modal.querySelectorAll("[data-close-modal]");n.forEach(s=>{s.addEventListener("click",()=>this.open())}),i.forEach(s=>{s.addEventListener("click",()=>this.close())}),this.overlay&&this.overlay.addEventListener("click",()=>this.close())}open(){this._html.style.paddingRight=`${this.scrollbarWidth}px`,this._html.style.overflow="hidden",this.modal.classList.add(X),this.isActive=!0,this.onOpen()}close(){this.isActive&&helpers.leaveAnimation(this.modal,()=>{this.modal.classList.remove(X),this._html.style.removeProperty("padding-right"),this._html.style.removeProperty("overflow"),this.isActive=!1,this.onClose()})}};const ut="drawer-overlay",ft="drawer-content",pt="[data-close-drawer]";class be{isActive=!1;constructor(o,t=()=>{}){if(!o)throw new TypeError("Error: Drawer not defined");if(this.drawer=document.querySelector(o),this.selector=o,this.onToggle=t,this.overlay=this.drawer.querySelector(`.${ut}`),this.content=this.drawer.querySelector(`.${ft}`),!this.content)throw new TypeError("Error: Drawer content not defined");const n=document.querySelectorAll(`[data-toggle="drawer"][data-target="${o}"]`),i=this.drawer.querySelectorAll(pt);n.forEach(s=>{s.addEventListener("click",()=>this.toggle())}),i.forEach(s=>{s.addEventListener("click",()=>this.close())}),this.overlay&&this.overlay.addEventListener("click",()=>this.close())}open(){this.isActive||(this.overlay&&this.overlay.classList.remove("hidden"),this.content.classList.remove("hidden"),this.isActive=!0,this.onToggle(this.isActive))}close(){this.isActive&&(this.overlay&&helpers.leaveAnimation(this.overlay,()=>{this.overlay.classList.add("hidden")}),helpers.leaveAnimation(this.content,()=>{this.content.classList.add("hidden")}),this.isActive=!1,this.onToggle(this.isActive))}toggle(){this.isActive?this.close():this.open()}}const Se={followCursor:ue,roundArrow:Me},mt="[data-tooltip]",ht=()=>{const e=document.querySelectorAll(mt);if(!e)return;const o=t=>{const n={plugins:[],content:t.tooltip,arrow:Se.roundArrow,animation:"shift-away",zIndex:10003};return t.placement&&(n.placement=t.placement),t.tooltipTheme&&(n.theme=t.tooltipTheme),t.tooltipDelay&&(n.delay=parseInt(t.tooltipDelay)),t.tooltipDuration&&(n.duration=parseInt(t.tooltipDuration)),t.tooltipTrigger&&(n.trigger=t.tooltipTrigger),t.tooltipFollowCursor!==void 0&&(n.plugins.push(ue),["x","y","initial"].includes(t.tooltipFollowCursor)?(t.tooltipFollowCursor==="x"&&(n.followCursor="horizontal"),t.tooltipFollowCursor==="y"&&(n.followCursor="vertical"),t.tooltipFollowCursor==="initial"&&(n.followCursor="initial")):n.followCursor=!0),t.contentHtml!==void 0&&(n.content=document.querySelector(t.tooltip).content.cloneNode(!0),n.allowHTML=!0,n.interactive=!0,n.theme="content"),n};e.forEach(t=>{de(t,o(t.dataset))})};window.addEventListener("app:mounted",ht,{once:!0});const gt=Object.freeze(Object.defineProperty({__proto__:null,tippy:de,tippyPlugins:Se},Symbol.toStringTag,{value:"Module"}));I.registerLanguage("xml",Pe);I.registerLanguage("javascript",$e);I.configure({ignoreUnescapedHTML:!0});window.$breakpoint=new Je;window.$darkmode=new Ye;window.$monochromemode=new Ze;window.$notification=et;window.$clipboard=tt;window.helpers=it;window.Popper=T;window.Tab=E;window.Modal=dt;window.Drawer=be;window.hljs=I;window.Accordion=fe;window.SimpleBar=Re;window.dayjs=qe;window.tooltip=gt;const wt="app-preloader",yt="root",bt="sidebar",L="is-sidebar-open",St="sidebar-toggle",vt="sidebar-close",Et="nav-wrapper",At="nav-link",K="nav-parent",Q="right-sidebar",Lt="right-sidebar-header",Tt="darkmode-toggle",kt="monochrome-toggle",J="notification-wrapper",_t="notification-ref",It="notification-box",Ct="searchbar-wrapper",Y="searchbar-ref",xt="searchbar-box",Mt="mobile-searchbar",Pt="mobile-searchbar-show",$t="mobile-searchbar-hide",Rt="mobile-searchbar-input",Z="profile-wrapper",qt="profile-ref",Bt="profile-box",Dt="notification-tab-wrapper",Ft="search-tab-wrapper",Nt="mobile-search-tab-wrapper",Ht="right-sidebar-tab-wrapper",Ot="table-search-wrapper",Ut="table-search-input",jt="table-search-toggle";class zt{_html=document.documentElement;_body=document.body;_root=document.querySelector(`#${yt}`);_sidebar=document.querySelector(`.${bt}`);_mobileSearchbar=document.querySelector(`.${Mt}`);currentLocation=we();popperNotification=null;popperSearchbar=null;popperProfile=null;sidebarNav=null;notificationTab=null;rightSidebarTab=null;constructor(){this._uiInit()}_uiInit(){this._uiInitSidebar(),this._uiInitSidebarNav(),this._uiInitDarkModeBtn(),this._uiInitMonochromeBtn(),this._uiInitNotification(),this._uiInitSearchbar(),this._uiInitMobileSearchbar(),this._uiInitProfile(),this._uiInitNotificationTab(),this._uiInitSearchTab(),this._uiIniMobiletSearchTab(),this._uiInitRightSidebar(),this._uiInitRightSidebarTabs(),this._uiInitTableSearchbar(),this._root.classList.remove("cloak"),this.removeAppPreloader()}_uiInitSidebar(){if(!this._sidebar)return;$breakpoint.xlAndUp||this._uiCloseSidebar();const o=document.querySelectorAll(`.${St}`),t=document.querySelectorAll(`.${vt}`);window.addEventListener("change:breakpoint",()=>{this._body.classList.contains(L)&&this._uiCloseSidebar()}),o.forEach(n=>n.addEventListener("click",()=>this._uiToggleSidebar())),t.forEach(n=>n.addEventListener("click",()=>this._uiCloseSidebar()))}_uiInitSidebarNav(){const o=document.querySelectorAll(`.${At}`),t=document.querySelectorAll(`.${K}`);if(!(o.length>0))return;let n=null;t&&t.forEach((i,s)=>{i.dataset.navParentIndex=s}),o.forEach(i=>{if(!i.href||!i.dataset.activeClass||!i.dataset.defaultClass)return;const s=i.parentNode.closest(`.${K}`),r=i.dataset.activeClass.split(" "),a=i.dataset.defaultClass.split(" ");i.href.split("?")[0].split("#")[0]===this.currentLocation?(i.classList.add(...r),setTimeout(()=>i.scrollIntoView({block:"center"})),s&&(n=parseInt(s.dataset.navParentIndex))):i.classList.add(...a)}),this.sidebarNav=new fe(`.${Et}`,{onlyChildNodes:!1,duration:200,openOnInit:[n]})}_uiExpandSidebar(){this._body.classList.add(L)}_uiCloseSidebar(){this._body.classList.remove(L)}_uiToggleSidebar(){this._body.classList.toggle(L)}_uiInitDarkModeBtn(){document.querySelectorAll(`.${Tt}`).forEach(t=>{t.addEventListener("click",()=>$darkmode.toggle())})}_uiInitMonochromeBtn(){document.querySelectorAll(`.${kt}`).forEach(t=>{t.addEventListener("click",()=>$monochromemode.toggle())})}_uiInitNotification(){if(!document.querySelector(`#${J}`))return;const o={placement:"bottom-end",modifiers:[{name:"offset",options:{offset:[0,12]}}]};this.popperNotification=new T(`#${J}`,`#${_t}`,`#${It}`,o)}_uiInitSearchbar(){const o=document.querySelector(`#${Y}`);if(!o)return;const t={placement:"bottom-end",modifiers:[{name:"offset",options:{offset:[0,12]}}]},n=i=>{i?o.classList.replace("w-60","w-80"):o.classList.replace("w-80","w-60")};this.popperSearchbar=new T(`#${Ct}`,`#${Y}`,`#${xt}`,t,"focus",n),window.addEventListener("change:breakpoint",i=>{i.detail.smAndUp||this.popperNotification.closePopper()})}_uiInitMobileSearchbar(){if(!this._mobileSearchbar)return;const o=document.querySelectorAll(`.${Pt}`),t=document.querySelectorAll(`.${$t}`);o&&o.forEach(n=>{n.addEventListener("click",()=>{$breakpoint.smAndUp||this._uiShowMobileSearchbar()})}),t&&t.forEach(n=>{n.addEventListener("click",()=>this._uiHideMobileSearchbar())}),window.addEventListener("change:breakpoint",n=>{n.detail.smAndUp&&!this._mobileSearchbar.classList.contains("hidden")&&this._uiHideMobileSearchbar()})}_uiShowMobileSearchbar(){this._mobileSearchbar.classList.replace("hidden","flex");const o=document.querySelector(`.${Rt}`);setTimeout(()=>o.focus())}_uiHideMobileSearchbar(){ye(this._mobileSearchbar,()=>{this._mobileSearchbar.classList.replace("flex","hidden")})}_uiInitProfile(){if(!document.querySelector(`#${Z}`))return;const o={placement:"right-end",modifiers:[{name:"offset",options:{offset:[0,12]}}]};this.popperProfile=new T(`#${Z}`,`#${qt}`,`#${Bt}`,o)}_uiInitNotificationTab(){const o=document.querySelector(`.${Dt}`);o&&(this.notificationTab=new E(o))}_uiInitSearchTab(){const o=document.querySelector(`.${Ft}`);o&&new E(o)}_uiIniMobiletSearchTab(){const o=document.querySelector(`.${Nt}`);o&&new E(o)}_uiInitRightSidebar(){document.querySelector(`#${Q}`)&&new be(`#${Q}`)}_uiInitRightSidebarTabs(){const o=document.querySelector(`.${Ht}`),t=document.querySelectorAll(`.${Lt}`),n=i=>{t.forEach(s=>{s.dataset.header!==i?s.classList.add("hidden"):s.classList.remove("hidden")})};o&&(this.rightSidebarTab=new E(o,n)),t.forEach(i=>{i.dataset.header!==this.rightSidebarTab.aciveTab&&i.classList.add("hidden")})}_uiInitTableSearchbar(){const o=document.querySelectorAll(`.${Ot}`);o&&o.forEach(t=>{const n=t.querySelector(`.${Ut}`),i=t.querySelector(`.${jt}`);n.isActive=!1,i.addEventListener("click",()=>this._uiToggleTableSearchbar(n))})}_uiToggleTableSearchbar(o){o.isActive?(o.classList.remove("w-32"),o.classList.remove("lg:w-80"),o.classList.add("w-0"),o.isActive=!1):(o.classList.remove("w-0"),o.classList.add("w-32"),o.classList.add("lg:w-80"),setTimeout(()=>o.focus()),o.isActive=!0)}removeAppPreloader(){const o=document.querySelector(`.${wt}`);o&&setTimeout(()=>{o.classList.add("animate-[var(--ease-in-out)_fade-out_500ms_forwards]"),setTimeout(()=>o.remove(),1e3)},300)}}class Wt extends zt{constructor(){super(),window.hljs&&document.querySelectorAll("div.code-wrapper pre").forEach(o=>hljs.highlightElement(o))}}window.addEventListener("DOMContentLoaded",()=>{window.App=new Wt,window.dispatchEvent(new CustomEvent("app:mounted"))});window.Swiper=Be;window.Sortable=De;window.ApexCharts=Fe;window.Gridjs=Ne;pe(me);window.FilePond=He;window.flatpickr=he;window.Quill=ge;window.Tom=Oe;window.Cleave=Ue;(function(){const o="/api/notifications/check";let t=null,n=null,i=null,s=new Set;function r(){t=document.getElementById("notification-badge"),n=document.getElementById("notification-count-badge"),i=document.getElementById("notification-list"),!(!t||!n||!i)&&(a(),setInterval(a,3e4))}function a(){fetch(o,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json","X-Requested-With":"XMLHttpRequest"},credentials:"same-origin"}).then(l=>{if(!l.ok)throw new Error(`HTTP error! status: ${l.status}`);return l.json()}).then(l=>{d(l),l.new_notifications&&l.new_notifications.length>0&&l.new_notifications.forEach(u=>{s.has(u.id)||(m(u),s.add(u.id))})}).catch(l=>{console.error("Error fetching notifications:",l)})}function d(l){const u=l.unread_count||0;u>0?(t.style.display="flex",n.textContent=u):(t.style.display="none",n.textContent="0",s.clear()),c(l.all_unread||[])}function c(l){if(l.length===0){i.innerHTML=`
                <div class="flex flex-col items-center justify-center py-8">
                    <i class="fa-solid fa-bell-slash text-4xl text-slate-300 dark:text-navy-400"></i>
                    <p class="mt-3 text-sm text-slate-500 dark:text-navy-300">Tidak ada notifikasi baru</p>
                </div>
            `;return}let u="";l.slice(0,10).forEach(p=>{u+=f(p)}),i.innerHTML=u}function f(l){const u=l.icon||"fa-bell",p=l.color||"primary",h=l.title||"Notifikasi",Te=l.message||"",ke=l.created_at||"Baru saja",_e=l.action?.url||"#",Ie=l.id;return`
                <a href="${_e}" 
                   onclick="markNotificationAsRead('${Ie}')"
                   class="group flex items-start space-x-3 border-b border-slate-150 px-4 py-3 hover:bg-slate-50 dark:border-navy-600 dark:hover:bg-navy-700 transition-colors cursor-pointer">
                    <div class="flex size-10 shrink-0 items-center justify-center rounded-lg bg-${p}/10 text-${p} transition-colors">
                        <i class="fa-solid ${u}"></i>
                    </div>
                    <div class="flex-1 min-w-0">
                        <p class="font-medium text-slate-700 dark:text-navy-100 group-hover:text-primary dark:group-hover:text-accent-light transition-colors">
                            ${h}
                        </p>
                        <p class="mt-1 text-xs text-justify text-slate-500 dark:text-navy-300">
                            ${Te}
                        </p>
                        <p class="mt-1 text-xs text-slate-400 dark:text-navy-400">
                            <i class="fa-solid fa-clock mr-1"></i>${ke}
                        </p>
                    </div>
                    <div class="flex items-center justify-center text-primary dark:text-accent-light hover:bg-primary/20 focus:bg-primary/20 active:bg-primary/25 -mr-2.5 py-2 px-3 rounded-lg cursor-pointer">
                        <i class="fa-solid fa-chevron-right text-xs"></i>
                    </div>
                </a>
            `}function m(l){if(typeof window.$notification!="function")return;const u=l.title||"Notifikasi Baru",p=l.message||"";window.$notification({variant:l.color||"info",text:`${u}: ${p}`,position:"center-top",duration:7e3})}window.markNotificationAsRead=function(l){fetch(`/api/notifications/${l}/mark-as-read`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content")},credentials:"same-origin"}).then(u=>u.json()).then(u=>{u.success&&a()}).catch(u=>{console.error("Error marking notification as read:",u)})},window.markAllNotificationsAsRead=function(){fetch("/api/notifications/mark-all-as-read",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content")},credentials:"same-origin"}).then(l=>l.json()).then(l=>{l.success&&a()}).catch(l=>{console.error("Error marking all notifications as read:",l)})},document.readyState==="loading"?document.addEventListener("DOMContentLoaded",r):r()})();const P=()=>{Gt(),D()};window.checkAllPermissions=function(){document.querySelectorAll('input[name="permissions[]"]').forEach(o=>{o.checked=!0}),D()};window.uncheckAllPermissions=function(){document.querySelectorAll('input[name="permissions[]"]').forEach(o=>{o.checked=!1}),D()};window.toggleGroupPermissions=function(e,o){const t=e.checked;document.querySelectorAll(`input[data-group="${o}"]`).forEach(i=>{i.checked=t})};function Gt(){const e=document.querySelectorAll('input[name="permissions[]"]');e.length!==0&&e.forEach(o=>{o.addEventListener("change",function(){const t=this.dataset.group;t&&ve(t)})})}function ve(e){const o=document.querySelectorAll(`input[data-group="${e}"]`),t=document.querySelector(`input[onchange*="${e}"]`);if(!t){console.warn(`[Role Form] Master checkbox untuk group "${e}" tidak ditemukan`);return}if(o.length===0){console.warn(`[Role Form] Tidak ada checkbox untuk group "${e}"`);return}const n=Array.from(o).filter(s=>s.checked).length,i=o.length;n===0?(t.checked=!1,t.indeterminate=!1):n===i?(t.checked=!0,t.indeterminate=!1):(t.checked=!1,t.indeterminate=!0)}function D(){const e=new Set;document.querySelectorAll("input[data-group]").forEach(o=>{const t=o.dataset.group;t&&e.add(t)}),e.forEach(o=>ve(o))}window.addEventListener&&(window.addEventListener("app:mounted",P,{once:!0}),document.readyState==="loading"?document.addEventListener("DOMContentLoaded",P):P());const Vt=()=>{if(!document.querySelector('[data-page="error-404"]'))return;const o=document.querySelector("#hero-image-dark"),t=document.querySelector("#hero-image-light");!o||!t||($darkmode?.currentMode==="dark"?t.classList.add("hidden"):o.classList.add("hidden"))};window.addEventListener("app:mounted",Vt,{once:!0});function Xt(){ee("header-profile","bottom-end"),ee("sidebar-profile","right-end")}function ee(e,o="bottom-end"){const t=`${e}-wrapper`;if(!document.querySelector(`#${t}`))return;const i={placement:o,modifiers:[{name:"offset",options:{offset:[0,12]}}]};typeof window.Popper<"u"&&new window.Popper(`#${t}`,`#${e}-ref`,`#${e}-box`,i)}function Kt(){if(typeof Modal>"u"){console.warn("Modal class (window.Modal) not found. Modal initialization skipped.");return}document.querySelectorAll(".modal").forEach(o=>{o.id&&new Modal(`#${o.id}`)})}function Qt(){if(typeof Modal>"u"){console.warn("Class Modal tidak tersedia. Skipping session alert initialization.");return}const e=document.getElementById("session-alert-data");if(e){const o=e.getAttribute("data-json");try{const t=JSON.parse(o);if(t&&t.alert_show_id){const n="#"+t.alert_show_id;try{new Modal(n).open()}catch(i){console.error(`[Error] Failed to initialize or show modal ${n}. Error: ${i.message}`)}}}catch(t){console.error("Error parsing session alert data:",t)}e.remove()}}function Jt(){if(typeof window.$notification>"u"){console.warn("$notification function not found. Skipping session notification initialization.");return}const e=document.getElementById("session-notification-data");if(e){const o=e.getAttribute("data-json");try{const t=JSON.parse(o),n=i=>{i&&i.text&&(window.$notification({text:i.text,variant:i.type||"info",position:i.position||"bottom-right",duration:i.duration||5e3}),console.log(`[Success] Showing session notification: ${i.text.substring(0,30)}...`))};Array.isArray(t)?t.forEach((s,r)=>{const a=r*300;setTimeout(()=>{n(s)},a)}):t&&t.text&&n(t)}catch(t){console.error("Error parsing session notification data:",t)}e.remove()}}function Yt(){Qt(),Jt()}function Zt(){const e=document.getElementById("realtime-clock");if(!e)return;const o=()=>{const t=new Date,n={weekday:"long",year:"numeric",month:"long",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hourCycle:"h23",timeZone:"Asia/Jakarta"};let i=new Intl.DateTimeFormat("id-ID",n).format(t);i=i.replace(/(\d{2})\.(\d{2})\.(\d{2})/,"$1:$2:$3"),e.textContent=i};o(),setInterval(o,1e3)}const q="is-sidebar-open",eo="sidebar-toggle",to="sidebar-close";function te(e){setTimeout(()=>{const o=e.classList.contains(q)?"true":"false";localStorage.setItem("app-panel-open",o)},50)}function oo(){const e="app-panel-open",o=document.body;let t=localStorage.getItem(e);t===null&&(o.classList.contains("js-panel-default-open")?t="true":t="false",o.classList.remove("js-panel-default-open")),t==="true"?o.classList.add(q):o.classList.remove(q);const n=document.querySelector(`.${eo}`);n&&n.addEventListener("click",()=>te(o)),document.querySelectorAll(`.${to}`).forEach(s=>{s.addEventListener("click",()=>te(o))})}function no(){document.addEventListener("click",function(e){const o=e.target.closest('[data-action="popper-modal-trigger"]');if(o){const t=o.closest(".inline-flex");if(t){const n=t.querySelector(".popper-ref");n&&(setTimeout(()=>{n.click()},10),n.removeAttribute("aria-expanded"))}}})}function io(){document.readyState==="loading"?document.addEventListener("DOMContentLoaded",$):$(),setTimeout($,200)}function $(){const e=document.querySelectorAll('[data-open-on-error="true"]'),o=Array.from(e).filter(t=>t.id&&t.id.trim()!=="");o.length!==0&&o.forEach(t=>{setTimeout(()=>{so(t)},150)})}function so(e){const o=document.querySelector(`[data-target="#${e.id}"]`);if(o){o.click(),setTimeout(()=>oe(e),300);return}e.style.display="flex",e.classList.add("is-open"),e.classList.remove("opacity-0","pointer-events-none","invisible","hidden"),requestAnimationFrame(()=>{requestAnimationFrame(()=>{const t=e.querySelector(".modal-overlay");t&&(t.style.opacity="1",t.classList.remove("opacity-0"));const n=e.querySelector(".modal-content");n&&(n.classList.remove("opacity-0","invisible","hidden"),n.style.transform="scale(1)",n.style.opacity="1")})}),document.body.classList.add("is-modal-open"),document.body.style.overflow="hidden",setTimeout(()=>oe(e),300)}function oe(e){const t=e.querySelector('.border-error, [aria-invalid="true"]')||e.querySelector('input:not([type="hidden"]):not([readonly]), select, textarea');t&&(t.focus(),t.scrollIntoView({behavior:"smooth",block:"center"}),(t.type==="text"||t.tagName==="TEXTAREA")&&t.select())}function ro(){ao()}function ao(){document.querySelectorAll(".modal:has(form)").forEach(o=>{if(o.dataset.resetHandlerSetup||!o.id)return;o.dataset.resetHandlerSetup="true",o.querySelectorAll("[data-close-modal]").forEach(s=>{s.addEventListener("click",()=>{setTimeout(()=>R(o),300)},{once:!1})});const n=o.querySelector(".modal-overlay");n&&n.addEventListener("click",s=>{s.target===n&&setTimeout(()=>R(o),300)});const i=s=>{s.key==="Escape"&&o.classList.contains("is-open")&&setTimeout(()=>R(o),300)};document.addEventListener("keydown",i),o._escHandler=i})}function R(e){if(e.classList.contains("is-open"))return;const o=e.querySelector("form");o&&(o.reset(),e.querySelectorAll(".text-error, .text-tiny-plus.text-error, .text-tiny.text-error, span.text-error").forEach(t=>t.remove()),e.querySelectorAll(".border-error").forEach(t=>{t.classList.remove("border-error"),t.classList.contains("form-input")&&t.classList.add("border-slate-300")}),e.querySelectorAll(".alert.border-error, .alert.text-error").forEach(t=>t.remove()),e.querySelectorAll('input[type="text"], input[type="email"], input[type="number"], input[type="password"], input[type="tel"], input[type="url"], input[type="search"], textarea').forEach(t=>{t.value=""}),e.querySelectorAll('input[type="checkbox"]:not([data-keep-state])').forEach(t=>{t.checked=!1,t.indeterminate=!1}),e.querySelectorAll('input[type="radio"]').forEach(t=>{t.checked=!1}),e.querySelectorAll("select").forEach(t=>{t.selectedIndex=0}),e.dispatchEvent(new CustomEvent("modal:reset",{bubbles:!0,detail:{modal:e,form:o}})))}const S=new Map;function F(e=document){const o=e.querySelectorAll('select[data-tom-select="true"]');o.length!==0&&o.forEach(t=>{if(t.tomselect)return;const n=t.dataset.tomSearchable!=="false",i=t.dataset.tomCreatable==="true",s=t.querySelector('option[value=""]')?.textContent||"Pilih opsi...";try{const r=new je(t,{plugins:{remove_button:{title:"Hapus item ini"}},allowEmptyOption:!0,create:i,searchField:n?["text"]:[],placeholder:s,hidePlaceholder:!1,onInitialize:function(){console.log("[Tom Select] ✓ Initialized:",t.name)},render:{no_results:function(a,d){return'<div class="no-results">Tidak ada hasil untuk "'+d(a.input)+'"</div>'}}});S.set(t,r)}catch(r){console.error("[Tom Select] ✗ Failed to initialize:",t.name,r)}})}function lo(e){const o=S.get(e);o&&(o.destroy(),S.delete(e))}function co(){S.forEach((e,o)=>{e.destroy()}),S.clear()}function uo(e){return S.get(e)}window.TomSelectHandler={init:F,destroy:lo,destroyAll:co,getInstance:uo};const B=new Map;function Ee(e){return`${e.name}-${e.id}`}function Ae(e){e&&(e.innerHTML="",e.classList.add("hidden"))}function N(e){const o=document.getElementById(e.id+"_btn_text"),t=document.getElementById(e.id+"_btn_label"),n=document.getElementById(e.id+"_btn_icon"),i="fa-cloud-arrow-up",s="fa-rotate-right",r=e.dataset.defaultText||"Choose File",a=e.dataset.changeText||"Change File";if(!(!o||!t||!n))if(n.classList.remove(i,s),e.files.length>0){const d=e.files.length;o.textContent=d>1?`Change ${d} Files`:a,n.classList.add(s)}else o.textContent=r,n.classList.add(i)}function fo(e,o,t,n){const i=document.createElement("div");i.className="relative group transition-all duration-200";const s=n.dataset.previewMode||"fit",r=n.dataset.previewWidth,a=n.dataset.previewMaxWidth,d=n.dataset.previewAspect;let c="",f="rounded-lg object-cover border-2 border-slate-200 dark:border-navy-500 shadow-sm";return s==="fixed"&&r?(c+=`width:${r}px;`,d&&(c+=`aspect-ratio:${d};`),f+=" w-full h-full"):(a&&(c+=`max-width:${a}px;`),f+=" w-fit max-h-64"),i.innerHTML=`
        <div style="${c}">
            <img
                src="${e}"
                alt="${o}"
                title="${o}"
                class="${f}"
            />
        </div>

        <button
            type="button"
            data-file-id="${t}"
            onclick="event.preventDefault(); event.stopPropagation(); window.FilePreviewHandler.removePreview(this)"
            class="absolute -top-2 -right-2 size-7 rounded-full bg-error text-white shadow-lg
                   opacity-0 group-hover:opacity-100 transition-all duration-200 hover:bg-error-focus"
        >
            <i class="fa-solid fa-xmark"></i>
        </button>
    `,i}function po(e,o){const t=URL.createObjectURL(e),n=document.createElement("a");return n.className="flex items-center gap-2 p-2 bg-slate-100 dark:bg-navy-700 rounded-lg shadow-sm hover:bg-slate-200 dark:hover:bg-navy-600 transition-colors duration-200",n.href=t,n.target="_blank",n.rel="noopener noreferrer",n.innerHTML=`
        <i class="fa-solid fa-file-pdf text-error"></i>
        <span class="text-sm truncate flex-1">${e.name}</span>
        <button
            type="button"
            data-file-id="${o}"
            onclick="event.preventDefault(); event.stopPropagation(); window.FilePreviewHandler.removePreview(this)"
            class="text-error hover:text-error-focus"
        >
            <i class="fa-solid fa-xmark"></i>
        </button>
    `,n}function ne(e){const o=e.target,t=o.dataset.previewTarget,n=o.files;if(N(o),!t||!n||n.length===0){Ae(document.getElementById(t));return}const i=document.getElementById(t);i.classList.remove("hidden"),i.innerHTML="";const s=Ee(o),r=B.get(s)||{previewed:new Set};o.multiple||r.previewed.clear();const a=n[0].type.startsWith("image/"),c=i.classList.contains("justify-center")?"justify-center":"justify-start";if(a){const f=document.createElement("div");f.className=`flex flex-wrap ${c} gap-3`,i.appendChild(f),Array.from(n).forEach(m=>{const l=`${m.name}-${m.size}-${m.lastModified}`;if(r.previewed.has(l))return;r.previewed.add(l);const u=new FileReader;u.onload=p=>{const h=fo(p.target.result,m.name,l,o);f.appendChild(h)},u.readAsDataURL(m)})}else{const f=document.createElement("div");f.className=`flex flex-col ${c} gap-2`,i.appendChild(f),Array.from(n).forEach(m=>{const l=`${m.name}-${m.size}-${m.lastModified}`;r.previewed.has(l)||(r.previewed.add(l),f.appendChild(po(m,l)))})}B.set(s,r)}function mo(e){const o=e.closest(".relative")||e.closest("a");if(!o)return;const t=e.closest('[id$="_preview"]'),n=document.querySelector(`input[data-preview-target="${t.id}"]`),i=e.dataset.fileId;if(n){const s=Ee(n),r=B.get(s);r&&r.previewed.delete(i)}o.style.opacity="0",o.style.transform="scale(0.85)",o.style.transition="all 0.2s ease-out",setTimeout(()=>{o.remove();const s=t.querySelectorAll("[data-file-id]").length;N(n),s===0&&(Ae(t),n&&(n.value="",n.click()))},200)}function H(e=document){e.querySelectorAll('input[type="file"][data-file-button="true"]').forEach(t=>{t.removeEventListener("change",ne),t.addEventListener("change",ne),N(t)})}window.FilePreviewHandler={init:H,removePreview:mo};pe(me,ze,We,Ge,Ve,Xe);const b=new Map;function O(e=document){const o=e.querySelectorAll('input[type="file"][data-filepond="true"]');o.length!==0&&o.forEach(t=>{if(!b.has(t))try{const n=ho(t);b.set(t,n)}catch(n){console.error("[FilePond] ✗ Failed to initialize:",t.name,n)}})}function ho(e){const o={name:e.name,allowMultiple:e.hasAttribute("multiple"),required:e.hasAttribute("required"),labelIdle:'Drag & Drop file atau <span class="filepond--label-action">Browse</span>',labelFileLoading:"Memuat...",labelFileProcessing:"Mengupload...",labelFileProcessingComplete:"Upload selesai",labelFileProcessingAborted:"Upload dibatalkan",labelTapToCancel:"tap untuk batal",labelTapToRetry:"tap untuk retry",labelTapToUndo:"tap untuk undo",labelButtonRemoveItem:"Hapus",labelButtonAbortItemLoad:"Batal",labelButtonRetryItemLoad:"Retry",labelButtonAbortItemProcessing:"Batal",labelButtonUndoItemProcessing:"Undo",labelButtonRetryItemProcessing:"Retry",labelButtonProcessItem:"Upload",acceptedFileTypes:wo(e.accept),maxFileSize:go(e.dataset.filepondMaxFileSize||"5MB"),maxFiles:e.dataset.filepondMaxFiles?parseInt(e.dataset.filepondMaxFiles):null,allowImagePreview:e.dataset.filepondImagePreview!=="false",imagePreviewHeight:170,imageCropAspectRatio:"1:1",imageResizeTargetWidth:parseInt(e.dataset.filepondResizeWidth||800),imageResizeTargetHeight:parseInt(e.dataset.filepondResizeHeight||600),imageResizeMode:"contain",imageResizeUpscale:!1,stylePanelLayout:"compact circle",styleLoadIndicatorPosition:"center bottom",styleProgressIndicatorPosition:"right bottom",styleButtonRemoveItemPosition:"right bottom",styleButtonProcessItemPosition:"right bottom",instantUpload:e.dataset.filepondInstantUpload==="true",onaddfile:(t,n)=>{if(t){console.error("[FilePond] Error adding file:",t);return}console.log("[FilePond] File added:",n.filename)},onremovefile:(t,n)=>{console.log("[FilePond] File removed:",n.filename)},onprocessfile:(t,n)=>{if(t){console.error("[FilePond] Error processing file:",t);return}}};return e.dataset.filepondAllowCrop==="true"&&(o.allowImageCrop=!0,o.imageCropAspectRatio="1:1"),e.dataset.filepondImageResize==="true"&&(o.allowImageResize=!0,o.imageResizeMode="contain"),Ke(e,o)}function go(e){const o={B:1,KB:1024,MB:1048576,GB:1073741824},t=e.match(/^(\d+(?:\.\d+)?)\s*([KMGT]?B)$/i);if(!t)return 5*1024*1024;const n=parseFloat(t[1]),i=t[2].toUpperCase();return n*(o[i]||1)}function wo(e){return e?e.split(",").map(o=>o.trim()):null}function yo(e){const o=b.get(e);o&&(o.destroy(),b.delete(e),console.log("[FilePond] Destroyed:",e.name))}function bo(){b.forEach(e=>{e.destroy()}),b.clear()}function So(e){return b.get(e)}window.FilePondHandler={init:O,destroy:yo,destroyAll:bo,getInstance:So};const g=new Map,ie={full:[[{header:[1,2,3,4,5,6,!1]}],[{font:[]}],[{size:["small",!1,"large","huge"]}],["bold","italic","underline","strike"],[{color:[]},{background:[]}],[{script:"sub"},{script:"super"}],[{list:"ordered"},{list:"bullet"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{align:[]}],["blockquote","code-block"],["link","image","video"],["clean"]],basic:[[{header:[1,2,3,!1]}],["bold","italic","underline"],[{list:"ordered"},{list:"bullet"}],[{align:[]}],["link"],["clean"]],minimal:[["bold","italic","underline"],[{list:"bullet"}],["link"]]};function U(e=document){const o=e.querySelectorAll("[data-quill-editor]");o.length!==0&&o.forEach(t=>{const n=t.id,i=t.dataset.quillEditor,s=t.dataset.quillToolbar||"full";if(!g.has(n))try{const r=vo(t,i,s);g.set(n,r)}catch(r){console.error("[Quill] ✗ Failed to initialize:",i,r)}})}function vo(e,o,t){const n=document.getElementById(o);if(!n)throw new Error(`Hidden textarea not found: ${o}`);const i=n.value,s=new ge(e,{theme:"snow",modules:{toolbar:ie[t]||ie.full,clipboard:{matchVisual:!1}},placeholder:"Tulis konten di sini...",bounds:e});i&&(s.root.innerHTML=i),s.on("text-change",()=>{const a=s.root.innerHTML;n.value=a==="<p><br></p>"?"":a,n.dispatchEvent(new Event("change",{bubbles:!0}))});const r=n.closest("form");return r&&r.addEventListener("submit",()=>{const a=s.root.innerHTML;n.value=a==="<p><br></p>"?"":a}),Eo(e),s}function Eo(e){document.documentElement.classList.contains("dark")&&e.classList.add("quill-dark"),new MutationObserver(n=>{n.forEach(i=>{if(i.attributeName==="class"){const s=document.documentElement.classList.contains("dark");e.classList.toggle("quill-dark",s)}})}).observe(document.documentElement,{attributes:!0,attributeFilter:["class"]})}function Ao(e){return g.get(e)}function Lo(e){g.get(e)&&g.delete(e)}function To(){g.clear()}function ko(e,o="html"){const t=g.get(e);return t?o==="text"?t.getText():o==="delta"?t.getContents():t.root.innerHTML:null}function _o(e,o,t="html"){const n=g.get(e);n&&(t==="text"?n.setText(o):t==="delta"?n.setContents(o):n.root.innerHTML=o)}window.QuillHandler={init:U,destroy:Lo,destroyAll:To,getInstance:Ao,getContent:ko,setContent:_o};const w=new Map;function j(e=document){const o=e.querySelectorAll('input[data-flatpickr="true"]');o.length!==0&&o.forEach(t=>{if(!t._flatpickr)try{const n=Io(t);w.set(t,n)}catch(n){console.error("[Flatpickr] ✗ Failed to initialize:",t.name,n)}})}function Io(e){const o=e.dataset.flatpickrMode||"single",t=e.dataset.flatpickrEnableTime==="true",n=e.dataset.flatpickrDateFormat||"Y-m-d",i=e.dataset.flatpickrMinDate||null,s=e.dataset.flatpickrMaxDate||null,r=e.value||null,a={mode:o,enableTime:t,dateFormat:t?`${n} H:i`:n,time_24hr:!0,locale:Qe.Indonesian,minDate:i,maxDate:s,defaultDate:r,allowInput:!0,clickOpens:!0,prevArrow:'<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" /></svg>',nextArrow:'<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" /></svg>',onReady:function(d,c,f){se(f)},onChange:function(d,c,f){e.dispatchEvent(new Event("change",{bubbles:!0}))},onOpen:function(d,c,f){se(f)}};return o==="range"&&(a.dateFormat=t?"Y-m-d H:i":"Y-m-d"),o==="multiple"&&(a.conjunction=", "),he(e,a)}function se(e){document.documentElement.classList.contains("dark")&&e.calendarContainer&&e.calendarContainer.classList.add("flatpickr-dark")}function Co(e){const o=w.get(e);o&&(o.destroy(),w.delete(e))}function xo(){w.forEach(e=>{e.destroy()}),w.clear()}function Mo(e){return w.get(e)}function Po(e,o){const t=w.get(e);t&&t.setDate(o)}function $o(e){const o=w.get(e);o&&o.clear()}window.FlatpickrHandler={init:j,destroy:Co,destroyAll:xo,getInstance:Mo,setDate:Po,clearDate:$o};function Ro(e){const o=e.closest(".password-wrapper");if(!o)return;const t=o.querySelector('input[type="password"], input[type="text"]'),n=e.querySelector("i.fa-eye, i.fa-eye-slash");!t||!n||(t.type==="password"?(t.type="text",n.classList.remove("fa-eye"),n.classList.add("fa-eye-slash")):(t.type="password",n.classList.remove("fa-eye-slash"),n.classList.add("fa-eye")))}function re(e){e.preventDefault(),Ro(e.currentTarget)}function z(e=document){const o=e.querySelectorAll('button[data-toggle-password="true"]');o.length!==0&&o.forEach(t=>{t.removeEventListener("click",re),t.addEventListener("click",re)})}window.PasswordToggleHandler={init:z};function k(){F(),H(),O(),U(),j(),z()}typeof window<"u"&&(document.readyState==="loading"?document.addEventListener("DOMContentLoaded",k):k());function qo(e=document){F(e),H(e),O(e),U(e),j(e),z(e)}window.FormHandler={init:k,reinit:qo};function Bo(e=document){const o=e.querySelectorAll('.status-toggle[data-toggle="modal"]');o.length!==0&&o.forEach(t=>{t.dataset.statusToggleInitialized!=="true"&&(Do(t),t.dataset.statusToggleInitialized="true")})}function Do(e){const o=e.dataset.target,t=Fo(o),n=e.dataset.originalState==="1";if(!document.getElementById(t)){console.error("[Status Toggle] ❌ Modal not found:",t);return}e.dataset.currentState=n?"1":"0",e.addEventListener("change",function(s){const r=this.checked;this.dataset.tempState=r?"1":"0",Le(this,r,t)}),No(e,t)}function Fo(e){return e?e.replace(/^#/,""):null}function No(e,o){const t=document.getElementById(o);if(!t){console.error("[Status Toggle] Modal not found:",o);return}const n=t.querySelectorAll("[data-close-modal]"),i=t.querySelector(".modal-overlay"),s=()=>{t.classList.contains("show")&&ae(e,o)};if(e._cancelHandlers){const c=e._cancelHandlers;c.buttons&&c.buttons.forEach((f,m)=>{f.removeEventListener("click",m)}),c.overlay&&c.overlay.element.removeEventListener("click",c.overlay.handler)}const r=new Map;n.forEach(c=>{c.addEventListener("click",s),r.set(c,s)});let a=null;i&&(a={element:i,handler:s},i.addEventListener("click",s)),e._cancelHandlers={buttons:r,overlay:a};const d=c=>{c.key==="Escape"&&t.classList.contains("show")&&ae(e,o)};e._escHandler&&document.removeEventListener("keydown",e._escHandler),e._escHandler=d,document.addEventListener("keydown",d)}function ae(e,o){const t=e.dataset.currentState==="1";e.checked=t,Le(e,t,o),Ho(e,t)}function Le(e,o,t){const n=document.getElementById(t);if(!n){console.error("[Status Toggle] Modal not found for form update:",t);return}const s=n.querySelector('button[type="submit"]')?.getAttribute("form"),r=s?document.getElementById(s):n.querySelector("form");if(!r){console.error("[Status Toggle] ❌ Form not found. FormID:",s);return}const a=r.querySelector('input[name="status"]');a?a.value=o?"1":"0":console.error("[Status Toggle] ❌ Status input not found in form")}function Ho(e,o){const t=e.closest("label")?.querySelector(".text-tiny");if(!t){console.warn("[Status Toggle] Label not found");return}t.textContent=o?"Aktif":"Nonaktif",t.classList.remove("text-success","text-warning"),t.classList.add(o?"text-success":"text-warning")}function Oo(){const e=document.querySelectorAll(".filepond-input");e.length!==0&&e.forEach(o=>{const t=o.dataset.letterRequestId,n=parseInt(o.dataset.maxFiles)||5;if(o._filepond)return;const i={maxFiles:n,acceptedFileTypes:["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","image/jpeg","image/png"],maxFileSize:"10MB",labelFileTypeNotAllowed:"Tipe file tidak valid",fileValidateTypeLabelExpectedTypes:"Format: PDF, DOCX, JPG, PNG",labelFileProcessing:"Mengupload...",labelFileProcessingComplete:"Upload selesai",labelFileProcessingAborted:"Upload dibatalkan",labelFileProcessingError:"Error saat upload",labelTapToCancel:"klik untuk batalkan",labelTapToRetry:"klik untuk coba lagi",labelTapToUndo:"klik untuk undo",labelButtonRemoveItem:"Hapus",labelButtonAbortItemLoad:"Batalkan",labelButtonRetryItemLoad:"Coba lagi",labelButtonAbortItemProcessing:"Batalkan",labelButtonUndoItemProcessing:"Undo",labelButtonRetryItemProcessing:"Coba lagi",labelButtonProcessItem:"Upload",server:{process:(s,r,a,d,c,f,m)=>{const l=new FormData;l.append("files[]",r),l.append("letter_request_id",t);const u=document.querySelector('meta[name="csrf-token"]').content,p=new XMLHttpRequest;return p.open("POST","/documents/upload"),p.upload.onprogress=h=>{f(h.lengthComputable,h.loaded,h.total)},p.onload=function(){if(p.status>=200&&p.status<300){const h=JSON.parse(p.responseText);window.$notification&&window.$notification({text:h.message,variant:"success",position:"center-top",duration:3e3}),d(p.responseText)}else{const h=JSON.parse(p.responseText);c(h.message||"Upload gagal")}},p.onerror=function(){c("Network error")},p.setRequestHeader("X-CSRF-TOKEN",u),p.setRequestHeader("Accept","application/json"),p.send(l),{abort:()=>{p.abort(),m()}}},revert:null},stylePanelLayout:"compact",styleButtonRemoveItemPosition:"right",onprocessfile:(s,r)=>{s||(console.log("File uploaded successfully:",r.filename),setTimeout(()=>{window.location.reload()},2e3))},onerror:s=>{console.error("FilePond error:",s),window.$notification&&window.$notification({text:s.main||"Terjadi kesalahan saat upload",variant:"error",position:"center-top",duration:4e3})}};o._filepond=FilePond.create(o,i)})}const _="is-sidebar-open",y=()=>window.innerWidth<1280;function C(){if(!y())return;const e=document.body;e.classList.contains(_)&&(e.classList.remove(_),setTimeout(()=>{localStorage.setItem("app-panel-open","false")},50))}function Uo(){const e=document.querySelectorAll(".main-sidebar a[href]"),o=document.querySelectorAll('.sidebar-panel a[href][data-nav-link="panel"]');function t(n){const i=this.getAttribute("href");i&&i!=="#"&&!i.startsWith("javascript:")&&y()&&setTimeout(()=>{C()},150)}e.forEach(n=>n.addEventListener("click",t)),o.forEach(n=>n.addEventListener("click",t))}function jo(){const e=document.querySelector(".sidebar-overlay");e&&e.addEventListener("click",function(){y()&&C()})}function zo(){document.addEventListener("keydown",function(e){e.key==="Escape"&&y()&&document.body.classList.contains(_)&&C()})}function Wo(){let e;window.addEventListener("resize",function(){clearTimeout(e),e=setTimeout(()=>{y()&&C()},250)})}function Go(){if(y()){const e=document.querySelector(".sidebar-toggle");e&&e.addEventListener("click",function(){y()&&setTimeout(()=>{localStorage.setItem("app-panel-open","false")},300)})}}function Vo(){y()&&(document.body.classList.remove(_),localStorage.setItem("app-panel-open","false")),Uo(),jo(),zo(),Wo(),Go()}const Xo=()=>{Xt(),Kt(),Yt(),Zt(),oo(),no(),io(),ro(),k(),Bo(),Oo(),Vo()};window.addEventListener("app:mounted",Xo,{once:!0});
